{"version":3,"sources":["../src/ScrollListItem.js"],"names":["ScrollListItem","unmounting","rafId","lastHeight","measureHeight","element","props","index","onRectChange","rect","getBoundingClientRect","height","cancel","children","propTypes","number","isRequired","func"],"mappings":"gnBAAA,8B;AACA,uC;AACA,0B;;AAEMA,c;;;;;;;;;;;;;;;;AAgBJC,c,GAAa,K;AACbC,S,GAAQ,I;AACRC,c,GAAa,I;;AAEbC,iB,GAAgB,YAAM;AACpB,UAAI,MAAKH,UAAL,IAAmB,CAAC,MAAKI,OAA7B,EAAsC;AACpC;AACD,OAHmB;;AAKY,YAAKC,KALjB,CAKZC,KALY,eAKZA,KALY,CAKLC,YALK,eAKLA,YALK;AAMpB,UAAMC,OAAO,MAAKJ,OAAL,CAAaK,qBAAb,EAAb;;AAEA,UAAI,MAAKP,UAAL,KAAoBM,KAAKE,MAA7B,EAAqC;AACnCH,qBAAaD,KAAb,EAAoBE,IAApB;AACD;;AAED,YAAKN,UAAL,GAAkBM,KAAKE,MAAvB;;AAEA,YAAKT,KAAL,GAAa,mBAAI,MAAKE,aAAT,CAAb;AACD,K,iJA7BmB,CAClB,KAAKA,aAAL,GACD,C,0EAEsB,CACrB,KAAKH,UAAL,GAAkB,IAAlB,CAEA,cAAIW,MAAJ,CAAW,KAAKV,KAAhB,EACD,C;;AAuBQ;AACP,2CADO;AAECW,cAFD,GAEc,KAAKP,KAFnB,CAECO,QAFD;AAGP;;AAEA;AACE;AACE,iBAAK,sBAAW;AACd,qBAAKR,OAAL,GAAeA,OAAf;AACD,aAHH;;AAKGQ,kBALH,CADF;;;AASD,K,+CAnDGb,c,CACGc,S,GAAY,EACjBP,OAAO,oBAAUQ,MAAV,CAAiBC,UADP,EAEjBR,cAAc,oBAAUS,IAAV,CAAeD,UAFZ,E;;;AAqDNhB,c","file":"ScrollListItem.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport raf from 'raf';\n\nclass ScrollListItem extends Component {\n  static propTypes = {\n    index: PropTypes.number.isRequired,\n    onRectChange: PropTypes.func.isRequired\n  };\n\n  componentDidMount() {\n    this.measureHeight();\n  }\n\n  componentWillUnmount() {\n    this.unmounting = true;\n\n    raf.cancel(this.rafId);\n  }\n\n  unmounting = false;\n  rafId = null;\n  lastHeight = null;\n\n  measureHeight = () => {\n    if (this.unmounting || !this.element) {\n      return;\n    }\n\n    const { index, onRectChange } = this.props;\n    const rect = this.element.getBoundingClientRect();\n\n    if (this.lastHeight !== rect.height) {\n      onRectChange(index, rect);\n    }\n\n    this.lastHeight = rect.height;\n\n    this.rafId = raf(this.measureHeight);\n  };\n\n  render() {\n    /* eslint-disable react/prop-types */\n    const { children } = this.props;\n    /* eslint-enable react/prop-types */\n\n    return (\n      <div\n        ref={element => {\n          this.element = element;\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default ScrollListItem;\n"]}