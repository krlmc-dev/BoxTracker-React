{"ast":null,"code":"var _jsxFileName = \"C:\\\\BoxTracker\\\\boxtrackerwebbapp\\\\src\\\\Pages\\\\ScanBarcode.jsx\";\nimport React from 'react';\nimport ReactTable from 'react-table';\nimport \"react-table/react-table.css\";\nimport '../Menu.css';\n\nclass scanBarcode extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {},\n      box: [],\n      submitted: false,\n      boxID: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillMount() {\n    this.getBox();\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n    this.getBox();\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const _this$state = this.state,\n          customer_id = _this$state.customer_id,\n          numBoxes = _this$state.numBoxes,\n          jobLocation = _this$state.jobLocation,\n          returnUrl = _this$state.returnUrl; // stop here if form is invalid\n\n    if (!numBoxes) {\n      return;\n    }\n\n    this.setState({\n      loading: true\n    });\n    this.addJob(this.props.match.params.id, numBoxes, jobLocation).then(response => {\n      this.setState({\n        loading: false\n      });\n    }, error => this.setState({\n      error,\n      loading: false\n    }));\n    var path = \"/customer/\" + this.props.match.params.id;\n    this.props.history.push(path);\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          user = _this$state2.user,\n          box = _this$state2.box,\n          boxID = _this$state2.boxID,\n          submitted = _this$state2.submitted;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"Menu-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Box Tracker\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Welcome, \", localStorage.getItem('username'))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Scanning Barcode:\"), React.createElement(\"form\", {\n      name: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'form-group' + (submitted && !boxID ? ' has-error' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"boxID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Scan Box Barcode: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"boxID\",\n      value: boxID,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(ReactTable, {\n      data: box,\n      columns: [{\n        Header: \"Box ID\",\n        accessor: \"box_id\"\n      }, {\n        Header: \"Job ID\",\n        accessor: \"job_id\"\n      }, {\n        Header: \"Customer\",\n        accessor: \"customer_name\"\n      }, {\n        Header: \"Location\",\n        accessor: \"box_location\"\n      }, {\n        Header: \"Operator\",\n        accessor: \"box_operator\"\n      }, {\n        Header: \"Step\",\n        accessor: \"box_step\"\n      }, {\n        Header: \"State\",\n        accessor: \"box_state\"\n      }],\n      defaultPageSize: 10,\n      className: \"-striped -highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, (state, makeTable) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, makeTable());\n    }))));\n  }\n\n  getBox() {\n    const boxID = this.state.boxID;\n    var path = \"http://localhost:52773/csp/BoxTracker/boxes/\" + boxID;\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json',\n        'authorization': 'Basic U3VwZXJVc2VyOlBBU1M='\n      }\n    };\n    return fetch(path, requestOptions).then(this.handleGetResponse).then(response => {\n      if (response) {\n        this.setState({\n          box: response\n        });\n      }\n\n      return response;\n    });\n  }\n\n  handleGetResponse(response) {\n    return response.text().then(text => {\n      const data = text && JSON.parse(text);\n\n      if (!response.ok) {\n        const error = data && data.message || response.statusText;\n        return Promise.reject(error);\n      }\n\n      return data;\n    });\n  }\n\n}\n\nexport default scanBarcode;","map":{"version":3,"sources":["C:\\BoxTracker\\boxtrackerwebbapp\\src\\Pages\\ScanBarcode.jsx"],"names":["React","ReactTable","scanBarcode","Component","constructor","props","state","user","box","submitted","boxID","handleChange","bind","handleSubmit","componentWillMount","getBox","e","target","name","value","setState","preventDefault","customer_id","numBoxes","jobLocation","returnUrl","loading","addJob","match","params","id","then","response","error","path","history","push","render","localStorage","getItem","Header","accessor","makeTable","requestOptions","method","headers","fetch","handleGetResponse","text","data","JSON","parse","ok","message","statusText","Promise","reject"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactTable from 'react-table';\r\nimport \"react-table/react-table.css\";\r\nimport '../Menu.css';\r\n\r\nclass scanBarcode extends React.Component{\r\n  constructor(props)\r\n  {\r\n      super(props);\r\n      this.state = {\r\n          user: {},\r\n          box:[],\r\n          submitted: false,\r\n          boxID:'',          \r\n      };\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  componentWillMount()\r\n  {\r\n    this.getBox()\r\n  }\r\n  handleChange(e) \r\n    {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n        this.getBox()\r\n    }\r\n  \r\n    handleSubmit(e)\r\n    {\r\n        e.preventDefault();\r\n        this.setState({ submitted: true });\r\n        const { customer_id, numBoxes, jobLocation, returnUrl } = this.state;\r\n  \r\n        // stop here if form is invalid\r\n        if (!(numBoxes))\r\n        {\r\n            return;\r\n        }\r\n        this.setState({ loading: true });\r\n        \r\n        this.addJob(this.props.match.params.id, numBoxes, jobLocation)\r\n        .then(\r\n            response => {\r\n                this.setState({loading: false});\r\n            },\r\n            error => this.setState({ error, loading: false })\r\n        );\r\n        var path = \"/customer/\"+this.props.match.params.id\r\n        this.props.history.push(path);\r\n    }\r\n  render(){\r\n    \r\n    const { user, box, boxID, submitted } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"Menu\">\r\n          <header className=\"Menu-header\">\r\n            <h1>Box Tracker</h1>\r\n            <p>Welcome, {localStorage.getItem('username')}</p>\r\n          </header>\r\n            <div>\r\n              <h3>Scanning Barcode:</h3>\r\n              <form name=\"form\">\r\n                <div className={'form-group' + (submitted && !boxID ? ' has-error' : '')}>\r\n                    <label htmlFor=\"boxID\">Scan Box Barcode: </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"boxID\"\r\n                      value={boxID}\r\n                      onChange={this.handleChange}\r\n                       />\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div>\r\n            <ReactTable\r\n              data={box}\r\n              columns={[\r\n                {\r\n                  Header: \"Box ID\",\r\n                  accessor: \"box_id\"\r\n                },\r\n                {\r\n                  Header: \"Job ID\",\r\n                  accessor:\"job_id\"\r\n                },\r\n                {\r\n                  Header: \"Customer\",\r\n                  accessor:\"customer_name\"\r\n                },\r\n                {\r\n                  Header: \"Location\",\r\n                  accessor:\"box_location\"\r\n                },\r\n                {\r\n                  Header: \"Operator\",\r\n                  accessor:\"box_operator\"\r\n                },\r\n                {\r\n                  Header: \"Step\",\r\n                  accessor:\"box_step\"\r\n                },\r\n                {\r\n                  Header: \"State\",\r\n                  accessor:\"box_state\"\r\n                }\r\n              ]}\r\n              defaultPageSize={10}\r\n              className=\"-striped -highlight\"\r\n            >\r\n            {(state, makeTable) => {\r\n               return (\r\n                 <div>\r\n                   {makeTable()}\r\n                 </div>\r\n               )\r\n             }}\r\n           </ReactTable>\r\n         </div>\r\n        </div>\r\n      </div>\r\n      );\r\n    }\r\n\r\ngetBox()\r\n{\r\n    const { boxID } = this.state\r\n    var path = \"http://localhost:52773/csp/BoxTracker/boxes/\"+boxID\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'content-type': 'application/json',\r\n            'authorization':'Basic U3VwZXJVc2VyOlBBU1M=',\r\n            }\r\n        };\r\n    \r\n    return fetch(path, requestOptions)\r\n        .then(this.handleGetResponse)\r\n        .then(response => {\r\n            if (response) {\r\n              this.setState({box: response})\r\n          }\r\n            return response;\r\n        });\r\n}\r\nhandleGetResponse(response) {\r\n    \r\n  return response.text().then(text => {\r\n      const data = text && JSON.parse(text);\r\n      if (!response.ok) {\r\n          const error = (data && data.message) || response.statusText;\r\n          return Promise.reject(error);\r\n      }\r\n      return data;\r\n  });\r\n}\r\n  }\r\n  \r\n\r\nexport default scanBarcode;\r\n"]},"metadata":{},"sourceType":"module"}